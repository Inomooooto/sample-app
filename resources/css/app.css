@tailwind base;
@tailwind components;
@tailwind utilities;

@layer utilities {
    .animation-delay-2000 {
        animation-delay: 2s;
    }
    .animation-delay-4000 {
        animation-delay: 4s;
    }

    /* ハリーポッター風の背景 */
    .astrology-bg {
        background-image: url('/images/Astrology-inspired-background4.jpg');
        background-size: cover;
        background-position: center;
        background-attachment: fixed;
        animation: bg-slide 120s linear infinite;
        position: relative;
    }

    /* 背景を暗く・紫がかったオーバーレイ */
    .astrology-bg::before {
        content: '';
        position: absolute;
        inset: 0;
        background: linear-gradient(180deg, rgba(10, 5, 20, 0.7) 0%, rgba(30, 10, 50, 0.6) 50%, rgba(10, 5, 20, 0.7) 100%);
        pointer-events: none;
    }

    @keyframes bg-slide {
        0% {
            background-position: 0% 50%;
        }
        50% {
            background-position: 100% 50%;
        }
        100% {
            background-position: 0% 50%;
        }
    }

    /* 星座の線 */
    .constellation-lines {
        background-image:
            linear-gradient(45deg, transparent 48%, rgba(255, 255, 255, 0.1) 48%, rgba(255, 255, 255, 0.1) 52%, transparent 52%),
            linear-gradient(-45deg, transparent 48%, rgba(255, 255, 255, 0.1) 48%, rgba(255, 255, 255, 0.1) 52%, transparent 52%);
        background-size: 40px 40px;
        background-position: 0 0;
        animation: constellation-slide 20s linear infinite;
    }

    /* スライドアニメーション */
    @keyframes constellation-slide {
        0% {
            background-position: 0 0;
        }
        100% {
            background-position: 40px 40px;
        }
    }

    /* 星のエフェクト */
    .bg-stars {
        background-image:
            radial-gradient(2px 2px at 20px 30px, rgba(255, 255, 255, 0.8), transparent),
            radial-gradient(1px 1px at 60px 70px, rgba(255, 255, 255, 0.6), transparent),
            radial-gradient(1px 1px at 50px 50px, rgba(255, 255, 255, 0.8), transparent),
            radial-gradient(2px 2px at 130px 80px, rgba(255, 255, 255, 0.7), transparent),
            radial-gradient(1px 1px at 90px 10px, rgba(255, 255, 255, 0.9), transparent),
            radial-gradient(1px 1px at 140px 60px, rgba(255, 255, 255, 0.5), transparent);
        background-size: 200px 200px;
        background-repeat: repeat;
        animation: stars-slide 60s linear infinite;
    }

    @keyframes stars-slide {
        0% {
            background-position: 0 0;
        }
        100% {
            background-position: 200px 200px;
        }
    }

    /* 光の粒子エフェクト */
    .light-particles {
        position: absolute;
        width: 100%;
        height: 100%;
        overflow: hidden;
    }

    .particle {
        position: absolute;
        background: radial-gradient(circle, rgba(255,255,255,0.8) 0%, transparent 70%);
        border-radius: 50%;
        animation: float-up 8s infinite ease-in-out;
        opacity: 0;
    }

    /* カードのスタガーアニメーション */
    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(30px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @keyframes twinkle {
        0%, 100% { opacity: 0.5; }
        50% { opacity: 1; }
    }

    @keyframes float-up {
        0% {
            transform: translateY(100vh) translateX(0) scale(0);
            opacity: 0;
        }
        10% {
            opacity: 0.6;
        }
        90% {
            opacity: 0.6;
        }
        100% {
            transform: translateY(-100vh) translateX(50px) scale(1);
            opacity: 0;
        }
    }

    @keyframes glow-pulse {
        0%, 100% {
            box-shadow: 0 0 20px rgba(251, 191, 36, 0.5);
        }
        50% {
            box-shadow: 0 0 40px rgba(251, 191, 36, 0.8), 0 0 60px rgba(251, 191, 36, 0.4);
        }
    }

    @keyframes shimmer {
        0% {
            background-position: -1000px 0;
        }
        100% {
            background-position: 1000px 0;
        }
    }

    .animate-fadeInUp {
        animation: fadeInUp 0.6s ease-out forwards;
    }

    .animate-glow {
        animation: glow-pulse 2s ease-in-out infinite;
    }

    /* カードのスタガー遅延 */
    .stagger-1 { animation-delay: 0.1s; }
    .stagger-2 { animation-delay: 0.2s; }
    .stagger-3 { animation-delay: 0.3s; }
    .stagger-4 { animation-delay: 0.4s; }
    .stagger-5 { animation-delay: 0.5s; }
    .stagger-6 { animation-delay: 0.6s; }
    .stagger-7 { animation-delay: 0.7s; }
    .stagger-8 { animation-delay: 0.8s; }
    .stagger-9 { animation-delay: 0.9s; }
    .stagger-10 { animation-delay: 1.0s; }

    /* グローエフェクト */
    .glow-effect {
        position: relative;
    }

    .glow-effect::before {
        content: '';
        position: absolute;
        top: -2px;
        left: -2px;
        right: -2px;
        bottom: -2px;
        background: linear-gradient(45deg, #fbbf24, #f59e0b, #fbbf24);
        border-radius: inherit;
        opacity: 0;
        transition: opacity 0.3s ease;
        z-index: -1;
        filter: blur(10px);
    }

    .glow-effect:hover::before {
        opacity: 0.7;
    }

    /* シマーエフェクト */
    .shimmer {
        background: linear-gradient(
            90deg,
            transparent 0%,
            rgba(255, 255, 255, 0.3) 50%,
            transparent 100%
        );
        background-size: 200% 100%;
        animation: shimmer 3s infinite;
    }

    /* カードのページめくりエフェクト */
    @keyframes pageFlip {
        0% {
            transform: perspective(1000px) rotateY(-10deg);
            opacity: 0;
        }
        100% {
            transform: perspective(1000px) rotateY(0deg);
            opacity: 1;
        }
    }

    .page-flip {
        animation: pageFlip 0.6s ease-out;
    }

    /* スムーズなトランジション */
    * {
        transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    }
}
